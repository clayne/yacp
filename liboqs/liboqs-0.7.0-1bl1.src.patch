--- origsrc/liboqs-0.7.0/CMakeLists.txt	2021-08-12 06:22:32.000000000 +0900
+++ src/liboqs-0.7.0/CMakeLists.txt	2021-08-12 12:46:30.208279100 +0900
@@ -190,3 +190,10 @@ if(NOT ${OQS_BUILD_ONLY_LIB})
             USES_TERMINAL)
     endif()
 endif()
+
+SET(prefix ${CMAKE_INSTALL_PREFIX})
+SET(exec_prefix ${CMAKE_INSTALL_PREFIX})
+SET(libdir ${CMAKE_INSTALL_PREFIX}/lib)
+SET(includedir ${CMAKE_INSTALL_PREFIX}/include)
+CONFIGURE_FILE(${CMAKE_SOURCE_DIR}/liboqs.pc.in ${CMAKE_BINARY_DIR}/liboqs.pc @ONLY)
+INSTALL(FILES ${CMAKE_BINARY_DIR}/liboqs.pc DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/pkgconfig)
--- origsrc/liboqs-0.7.0/liboqs.pc.in	1970-01-01 09:00:00.000000000 +0900
+++ src/liboqs-0.7.0/liboqs.pc.in	2021-08-12 12:50:45.787558900 +0900
@@ -0,0 +1,10 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+Name: liboqs
+Description: C library for prototyping and experimenting with quantum-resistant cryptography
+Version: @OQS_VERSION_TEXT@
+Libs: -L${libdir} -loqs
+Cflags: -I${includedir}
--- origsrc/liboqs-0.7.0/tests/CMakeLists.txt	2021-08-12 06:22:32.000000000 +0900
+++ src/liboqs-0.7.0/tests/CMakeLists.txt	2021-08-12 11:39:53.840113700 +0900
@@ -112,7 +112,7 @@ add_definitions(-DOQS_COMPILE_OPTIONS="[
 # for DLL builds.
 add_custom_target(
     run_tests
-    COMMAND ${PYTHON3_EXEC} -m pytest --verbose --numprocesses=auto
+    COMMAND ${PYTHON3_EXEC} -m pytest --verbose 
     WORKING_DIRECTORY ${CMAKE_SOURCE_DIR}
     DEPENDS oqs example_kem kat_kem test_kem example_sig kat_sig test_sig test_sig_mem test_kem_mem ${UNIX_TESTS}
     USES_TERMINAL)
