--- origsrc/pkgfile-25/meson.build	2025-08-29 03:26:17.000000000 +0900
+++ src/pkgfile-25/meson.build	2025-09-19 10:43:03.091806000 +0900
@@ -31,7 +31,7 @@ add_project_arguments(
 libpcre = dependency('libpcre', version: '>= 8.30')
 libarchive = dependency('libarchive', version: '>= 3.2.0')
 libcurl = dependency('libcurl')
-libsystemd = dependency('libsystemd')
+libsystemd = dependency('libsystemd', required: false)
 pthreads = dependency('threads')
 stdcppfs = cpp.find_library('stdc++fs')
 gtest = dependency('gtest', required: false)
@@ -79,6 +79,7 @@ executable(
     install: true,
 )
 
+if libsystemd.found()
 executable(
     'pkgfiled',
     'src/pkgfiled.cc',
@@ -86,6 +87,7 @@ executable(
     dependencies: [libsystemd, stdcppfs],
     install: true,
 )
+endif
 
 custom_target(
     'pkgfile.1',
@@ -104,6 +106,7 @@ custom_target(
     install_dir: join_paths(get_option('mandir'), 'man1'),
 )
 
+if libsystemd.found()
 custom_target(
     'pkgfiled.1',
     output: 'pkgfiled.1',
@@ -120,6 +123,7 @@ custom_target(
     install: true,
     install_dir: join_paths(get_option('mandir'), 'man1'),
 )
+endif
 
 if get_option('systemd_units')
     systemd = dependency(
