--- origsrc/upmpdcli-1.9.6/meson.build	2025-05-26 16:09:31.000000000 +0900
+++ src/upmpdcli-1.9.6/meson.build	2025-09-03 15:52:31.065444400 +0900
@@ -3,7 +3,7 @@ project(
   'cpp',
   license: 'LGPL 2.1+',
   version: '1.9.6',
-  default_options: ['cpp_std=c++17', 'buildtype=debugoptimized'],
+  default_options: ['cpp_std=gnu++17', 'buildtype=debugoptimized'],
   meson_version: '>=0.49',
 )
 
@@ -20,7 +20,7 @@ project(
 ######## upmpdcli itself
 if get_option('upmpdcli')
   deps = []
-  dep_libupnpp = dependency('libupnpp')
+  dep_libupnpp = dependency('upnpp')
   deps += dep_libupnpp
   deps += dependency('libcurl')
   deps += dependency('libmicrohttpd')
--- origsrc/upmpdcli-1.9.6/src/main.cxx	2025-05-06 01:25:36.000000000 +0900
+++ src/upmpdcli-1.9.6/src/main.cxx	2025-09-03 16:13:56.381931900 +0900
@@ -424,13 +424,14 @@ int main(int argc, char *argv[])
             std::cerr << "chown(" << logfilename << ") : errno : " << errno << '\n';
         }
     }
+#if !defined(__CYGWIN__)
     if (Logger::getTheLog(logfilename) == 0) {
         std::cerr << "Can't initialize log" << '\n';
         return 1;
     }
     Logger::getTheLog("")->reopen(logfilename);
     Logger::getTheLog("")->setLogLevel(Logger::LogLevel(loglevel));
-
+#endif
     // If a streaming service is enabled, we need a Media
     // Server. We let a static ContentDirectory method decide this
     // for us. The way we then implement it depends on the command
--- origsrc/upmpdcli-1.9.6/src/sysvshm.cpp	2023-04-09 15:57:28.000000000 +0900
+++ src/upmpdcli-1.9.6/src/sysvshm.cpp	2025-09-03 16:09:39.701968300 +0900
@@ -155,7 +155,7 @@ LockableShmSeg::LockableShmSeg(key_t ky,
         err = pthread_mutexattr_init(&attr);if (err) goto done;
         err = pthread_mutexattr_setpshared(&attr, PTHREAD_PROCESS_SHARED); 
         if (err) goto done;
-#ifndef __APPLE__
+#if !defined(__APPLE__) && !defined(__CYGWIN__)
         err = pthread_mutexattr_setrobust(&attr, PTHREAD_MUTEX_ROBUST);
         if (err) goto done;
 #endif
