--- origsrc/libsqlfs-1.3.2/Makefile.am	2016-12-30 08:14:07.000000000 +0900
+++ src/libsqlfs-1.3.2/Makefile.am	2025-08-12 10:16:23.742605500 +0900
@@ -9,7 +9,7 @@ lib_LTLIBRARIES = libsqlfs-1.0.la
 
 libsqlfs_1_0_la_SOURCES = sqlfs.c
 libsqlfs_1_0_la_LIBADD = @SQLITE@ @LIBFUSE@
-libsqlfs_1_0_la_LDFLAGS = -version-info 1:0:0
+libsqlfs_1_0_la_LDFLAGS = -no-undefined -version-info 1:0:0
 
 bin_PROGRAMS = sqlfscat sqlfsls
 sqlfscat_SOURCES = sqlfscat.c
--- origsrc/libsqlfs-1.3.2/configure.in	2016-12-30 08:14:07.000000000 +0900
+++ src/libsqlfs-1.3.2/configure.in	2025-08-12 10:36:13.360916600 +0900
@@ -17,7 +17,7 @@ AM_PROG_CC_C_O
 AC_DEFINE(_GNU_SOURCE, 1)
 
 # always include debug symbols in compile, they're stripped at install
-CFLAGS="$CFLAGS -g -Wall -Wformat-security -Werror -Werror=format -Werror=format-security"
+CFLAGS="$CFLAGS -g -Wall -Wformat-security -Werror=format -Werror=format-security"
 
 case $host in
 *darwin*)
--- origsrc/libsqlfs-1.3.2/libsqlfs.pc.in	2016-12-30 08:14:07.000000000 +0900
+++ src/libsqlfs-1.3.2/libsqlfs.pc.in	2025-08-12 10:48:38.241581800 +0900
@@ -7,7 +7,7 @@ Name: libsqlfs
 Description: file system implementation on top of SQLite
 Requires:
 Version: @VERSION@
-Libs: -L${libdir} -lsqlfs -lsqlite3
+Libs: -L${libdir} -lsqlfs-1.0 -lsqlite3
 Cflags: -I${includedir}
 
 
