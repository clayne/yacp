--- origsrc/benchmark-1.5.5/CMakeLists.txt	2021-06-09 17:52:12.000000000 +0900
+++ src/benchmark-1.5.5/CMakeLists.txt	2021-07-21 14:07:14.541879600 +0900
@@ -13,7 +13,7 @@ foreach(p
   endif()
 endforeach()
 
-project (benchmark VERSION 1.5.4 LANGUAGES CXX)
+project (benchmark VERSION 1.5.5 LANGUAGES CXX)
 
 option(BENCHMARK_ENABLE_TESTING "Enable testing of the benchmark library." ON)
 option(BENCHMARK_ENABLE_EXCEPTIONS "Enable the use of exceptions in the benchmark library." ON)
@@ -302,12 +302,18 @@ include_directories(${PROJECT_SOURCE_DIR
 # Build the targets
 add_subdirectory(src)
 
+option(USE_SYSTEM_GTEST "Use system gtest" ON)
+
 if (BENCHMARK_ENABLE_TESTING)
   enable_testing()
   if (BENCHMARK_ENABLE_GTEST_TESTS AND
       NOT (TARGET gtest AND TARGET gtest_main AND
            TARGET gmock AND TARGET gmock_main))
-    include(GoogleTest)
+    if (USE_SYSTEM_GTEST)
+      find_package(gtest)
+    else()
+      include(GoogleTest)
+    endif()
   endif()
   add_subdirectory(test)
 endif()
--- origsrc/benchmark-1.5.5/test/CMakeLists.txt	2021-06-09 17:52:12.000000000 +0900
+++ src/benchmark-1.5.5/test/CMakeLists.txt	2021-07-21 14:15:15.242031900 +0900
@@ -188,7 +188,7 @@ add_test(NAME complexity_benchmark COMMA
 if (BENCHMARK_ENABLE_GTEST_TESTS)
   macro(compile_gtest name)
     add_executable(${name} "${name}.cc")
-    target_link_libraries(${name} benchmark::benchmark
+    target_link_libraries(${name} benchmark::benchmark gtest gmock
         gmock_main ${CMAKE_THREAD_LIBS_INIT})
   endmacro(compile_gtest)
 
