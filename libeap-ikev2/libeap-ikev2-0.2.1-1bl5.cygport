HOMEPAGE="https://sourceforge.net/projects/eap-ikev2/"
SRC_URI="mirror://sourceforge/eap-ikev2/${P}.tar.gz"

CATEGORY="Libs"
SUMMARY="Implementation of the EAP-IKEv2 authentication method"
DESCRIPTION="EAP-IKEv2 is an EAP authentication method based on the Internet Key
Exchange Protocol version 2 (IKEv2). It provides mutual authentication
and session key establishment between an EAP peer and an EAP server.
It supports authentication techniques that are based on asymmetric key
pairs, symmetric keys and passwords."

LICENSE="GPL-2.0-or-later"
LICENSE_SPDX="SPDX-License-Identifier: GPL-2.0-or-later"
LICENSE_URI="LICENSE"

BUILD_REQUIRES="
	libssl1.0-devel
"

export CPPFLAGS="${CPPFLAGS} -I/usr/lib/openssl-1.0/include"
export LDFLAGS="${LDFLAGS} -L/usr/lib/openssl-1.0/lib"

CYGPORT_USE_UNSTABLE_API=1
src_patch_hook()
{
	cd ${origsrcdir}/${SRC_DIR}
	rm -f aclocal.m4 configure
	find . -name Makefile.in | xargs rm -f
}

CYGCONF_ARGS="
	--enable-maintainer-mode
"

PKG_NAMES="
	${PN}
	${PN}_0
	${PN}-devel
"
libeap_ikev2_CONTENTS="
	usr/share
"
libeap_ikev2_0_CONTENTS="
	usr/bin/cyg*-0.dll
"
libeap_ikev2_devel_CONTENTS="
	usr/include
	usr/lib
"
libeap_ikev2_SUMMARY="${SUMMARY} (licensing & readmes)"
libeap_ikev2_0_SUMMARY="${SUMMARY} (runtime)"
libeap_ikev2_devel_SUMMARY="${SUMMARY} (development)"
