--- origsrc/re2-2022-06-01/CMakeLists.txt	2022-05-10 20:02:12.000000000 +0900
+++ src/re2-2022-06-01/CMakeLists.txt	2022-06-12 17:45:35.614887800 +0900
@@ -174,3 +174,10 @@ write_basic_package_version_file(${CMAKE
 install(FILES ${CMAKE_CURRENT_BINARY_DIR}/re2Config.cmake
               ${CMAKE_CURRENT_BINARY_DIR}/re2ConfigVersion.cmake
         DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/re2)
+
+if (CYGWIN)
+  set(includedir "${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_INCLUDEDIR}")
+  set(libdir "${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_LIBDIR}")
+  configure_file(${CMAKE_SOURCE_DIR}/re2.pc ${CMAKE_BINARY_DIR}/re2.pc @ONLY)
+  install(FILES ${CMAKE_BINARY_DIR}/re2.pc DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/pkgconfig)
+endif()
--- origsrc/re2-2022-06-01/re2/testing/re2_test.cc	2022-05-10 20:02:12.000000000 +0900
+++ src/re2-2022-06-01/re2/testing/re2_test.cc	2022-06-12 16:30:34.698638700 +0900
@@ -13,7 +13,7 @@
 #include <string>
 #include <utility>
 #include <vector>
-#if !defined(_MSC_VER) && !defined(__CYGWIN__) && !defined(__MINGW32__)
+#if !defined(_MSC_VER) && !defined(__MINGW32__)
 #include <sys/mman.h>
 #include <unistd.h>  /* for sysconf */
 #endif
