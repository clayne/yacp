--- origsrc/uvwasi-0.0.23/CMakeLists.txt	2025-09-04 04:56:15.000000000 +0900
+++ src/uvwasi-0.0.23/CMakeLists.txt	2025-09-04 09:37:40.678612300 +0900
@@ -99,18 +99,6 @@ if(ASAN AND CMAKE_C_COMPILER_ID MATCHES
     set (CMAKE_LINKER_FLAGS_DEBUG "${CMAKE_LINKER_FLAGS_DEBUG} -fno-omit-frame-pointer -fsanitize=address")
 endif()
 
-## Static library target.
-add_library(uvwasi_a STATIC ${uvwasi_sources})
-set_target_properties(uvwasi_a PROPERTIES OUTPUT_NAME "uvwasi")
-target_compile_definitions(uvwasi_a PRIVATE ${uvwasi_defines})
-target_compile_options(uvwasi_a PRIVATE ${uvwasi_cflags})
-target_include_directories(uvwasi_a PRIVATE ${PROJECT_SOURCE_DIR}/include)
-if(CODE_COVERAGE)
-    target_link_libraries(uvwasi_a PUBLIC ${LIBUV_LIBRARIES} coverage_config)
-else()
-    target_link_libraries(uvwasi_a PRIVATE ${LIBUV_LIBRARIES})
-endif()
-
 ## Shared library target.
 add_library(uvwasi SHARED ${uvwasi_sources})
 target_compile_definitions(uvwasi PRIVATE ${uvwasi_defines})
@@ -122,6 +110,9 @@ else()
     target_link_libraries(uvwasi PRIVATE ${LIBUV_LIBRARIES})
 endif()
 
+if (DEFINED SOVERSION)
+    set_target_properties(uvwasi PROPERTIES SOVERSION ${SOVERSION})
+endif()
 
 ## Test targets.
 if(BUILD_TESTING)
@@ -135,7 +126,7 @@ if(BUILD_TESTING)
         target_include_directories(${test_name}
                                     PRIVATE
                                     ${PROJECT_SOURCE_DIR}/include)
-        target_link_libraries(${test_name} PRIVATE ${LIBUV_LIBRARIES} uvwasi_a)
+        target_link_libraries(${test_name} PRIVATE ${LIBUV_LIBRARIES} uvwasi)
         list(APPEND test_list ${test_name})
     endforeach()
 
@@ -162,7 +153,7 @@ if(INSTALL_UVWASI AND NOT CODE_COVERAGE)
     configure_package_config_file(${PROJECT_SOURCE_DIR}/cmake/Config.cmake.in ${config_file} INSTALL_DESTINATION ${cmake_files_install_dir})
 
     install(
-        TARGETS uvwasi_a uvwasi
+        TARGETS uvwasi
         EXPORT ${target_export_name}
         RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
         ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
--- origsrc/uvwasi-0.0.23/cmake/uvwasi.pc.in	2025-09-04 04:56:15.000000000 +0900
+++ src/uvwasi-0.0.23/cmake/uvwasi.pc.in	2025-09-04 10:59:46.610046300 +0900
@@ -9,6 +9,6 @@ Name: @PROJECT_NAME@
 Description: @PROJECT_DESCRIPTION@
 Version: @PROJECT_VERSION@
 
-Libs: -L${libdir}
+Libs: -L${libdir} -luvwasi
 Libs.private: -l@LIBUV_LIBRARIES@
 Cflags: -I${includedir} -I${libuv_includedir} @uvwasi_cflags@
