--- origsrc/multicharge-0.1.2/test/meson.build	2021-08-03 21:04:00.000000000 +0900
+++ src/multicharge-0.1.2/test/meson.build	2021-08-25 08:05:40.868002100 +0900
@@ -14,19 +14,22 @@
 # limitations under the License.
 
 # Create mstore as subproject for testing
-mstore_prj = subproject(
-  'mstore',
-  version: '>=0.1',
-  required: not meson.is_subproject(),
-  default_options: [
-    'default_library=static',
-  ],
-)
-# If we do not find mstore and are a subproject, we just skip testing
-if not mstore_prj.found()
-   subdir_done()
+mstore_dep = dependency('mstore', required: false)
+if not mstore_dep.found()
+  mstore_prj = subproject(
+    'mstore',
+    version: '>=0.1',
+    required: not meson.is_subproject(),
+    default_options: [
+      'default_library=static',
+    ],
+  )
+  # If we do not find mstore and are a subproject, we just skip testing
+  if not mstore_prj.found()
+    subdir_done()
+  endif
+  mstore_dep = mstore_prj.get_variable('mstore_dep')
 endif
-mstore_dep = mstore_prj.get_variable('mstore_dep')
 
 tests = [
   'model',
