--- origsrc/hyphy-2.5.23/CMakeLists.txt	2020-11-19 01:25:25.000000000 +0900
+++ src/hyphy-2.5.23/CMakeLists.txt	2020-11-21 00:19:26.517742300 +0900
@@ -119,7 +119,11 @@ file(GLOB SRC_NEW src/new/*.cpp)
 file(GLOB SRC_CONTRIB src/contrib/*.cpp)
 
 set(SRC_LINK src/lib/link/THyPhy.cpp)
-set(SRC_SQLITE3 contrib/SQLite-3.8.2/sqlite3.c)
+
+find_package(sqlite3)
+if (NOT SQLite3_FOUND)
+    set(SRC_SQLITE3 contrib/SQLite-3.8.2/sqlite3.c)
+endif()
 set(SRC_UNIXMAIN src/mains/unix.cpp)
 set(SRC_UTILS src/utils/hyphyunixutils.cpp)
 
@@ -360,6 +364,10 @@ else(${OPENMP_FOUND})
     target_link_libraries(hyphy PRIVATE ${DEFAULT_LIBRARIES})
 endif(${OPENMP_FOUND})
 
+if (SQLite3_FOUND)
+    target_link_libraries(hyphy PRIVATE ${SQLite3_LIBRARY})
+endif()
+
 add_custom_target(MP DEPENDS hyphy)
 
 install(
--- origsrc/hyphy-2.5.23/src/core/avllist.cpp	2020-11-19 01:25:25.000000000 +0900
+++ src/hyphy-2.5.23/src/core/avllist.cpp	2020-11-20 23:48:55.130454500 +0900
@@ -43,6 +43,7 @@
 #include <ctype.h>
 #include <math.h>
 #include <limits.h>
+#include <alloca.h>
 
 #include "avllist.h"
 #include "hy_strings.h"
--- origsrc/hyphy-2.5.23/src/core/include/dataset_filter.h	2020-11-19 01:25:25.000000000 +0900
+++ src/hyphy-2.5.23/src/core/include/dataset_filter.h	2020-11-20 23:50:21.198166200 +0900
@@ -39,6 +39,8 @@ SOFTWARE OR THE USE OR OTHER DEALINGS IN
 
 #pragma once
 
+#include <alloca.h>
+
 #include "list.h"
 #include "stdlib.h"
 #include "dataset.h"
--- origsrc/hyphy-2.5.23/src/core/simplelist.cpp	2020-11-19 01:25:25.000000000 +0900
+++ src/hyphy-2.5.23/src/core/simplelist.cpp	2020-11-20 23:58:36.001353800 +0900
@@ -43,6 +43,7 @@
 #include <math.h>
 #include <limits.h>
 #include <stdarg.h>
+#include <alloca.h>
 
 #include "global_things.h"
 #include "hy_strings.h"
