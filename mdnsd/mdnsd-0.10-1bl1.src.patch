--- origsrc/mdnsd-0.10/Makefile.am	2020-05-06 17:03:19.000000000 +0900
+++ src/mdnsd-0.10/Makefile.am	2021-11-25 07:54:44.616836700 +0900
@@ -52,3 +52,6 @@ release: release-hook distcheck package
 	@for file in `cd ..; ls $(PACKAGE)_$(VERSION)*`; do			\
 		printf "%-32s Debian/Ubuntu package\n" $$file;			\
 	done
+
+pkgconfigdir = $(libdir)/pkgconfig
+pkgconfig_DATA = $(PACKAGE).pc
--- origsrc/mdnsd-0.10/configure.ac	2020-05-06 17:03:19.000000000 +0900
+++ src/mdnsd-0.10/configure.ac	2021-11-25 07:54:44.617910900 +0900
@@ -6,7 +6,7 @@ AM_SILENT_RULES([yes])
 
 AC_CONFIG_SRCDIR(src/mdnsd.c)
 AM_CONFIG_HEADER(config.h)
-AC_CONFIG_FILES([Makefile mdnsd.service examples/Makefile libmdnsd/Makefile man/Makefile src/Makefile])
+AC_CONFIG_FILES([mdnsd.pc Makefile mdnsd.service examples/Makefile libmdnsd/Makefile man/Makefile src/Makefile])
 AC_CONFIG_MACRO_DIR([m4])
 
 AC_PROG_CC
--- origsrc/mdnsd-0.10/libmdnsd/Makefile.am	2020-05-06 17:03:19.000000000 +0900
+++ src/mdnsd-0.10/libmdnsd/Makefile.am	2021-11-25 07:47:27.403642400 +0900
@@ -3,4 +3,4 @@ lib_LTLIBRARIES      = libmdnsd.la
 libmdnsd_la_SOURCES  = mdnsd.c mdnsd.h log.c 1035.c 1035.h sdtxt.c sdtxt.h xht.c xht.h
 libmdnsd_la_CFLAGS   = -std=gnu99 -W -Wall -Wextra -Wno-unused-parameter -Wno-unused-function
 libmdnsd_la_CPPFLAGS = -D_GNU_SOURCE -D_BSD_SOURCE -D_DEFAULT_SOURCE
-libmdnsd_la_LDFLAGS  = $(AM_LDFLAGS) -version-info 1:0:0
+libmdnsd_la_LDFLAGS  = $(AM_LDFLAGS) -no-undefined -version-info 1:0:0
--- origsrc/mdnsd-0.10/mdnsd.pc.in	1970-01-01 09:00:00.000000000 +0900
+++ src/mdnsd-0.10/mdnsd.pc.in	2021-11-25 07:54:44.531853000 +0900
@@ -0,0 +1,10 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+Name: mdnsd
+Description: Embeddable Multicast DNS Daemon
+Version: @VERSION@
+Libs: -L${libdir} -lmdnsd
+Cflags: -I${includedir}
