--- origsrc/hypre-2.22.1/src/CMakeLists.txt	2021-08-20 04:10:18.000000000 +0900
+++ src/hypre-2.22.1/src/CMakeLists.txt	2021-08-29 14:12:42.317109700 +0900
@@ -426,12 +426,16 @@ if (HYPRE_BUILD_TESTS)
   add_subdirectory(test)
 endif ()
 
+if (CYGWIN)
+  set_target_properties(HYPRE PROPERTIES SOVERSION 0)
+endif()
+
 include(GNUInstallDirs)
 install(TARGETS ${PROJECT_NAME}
   EXPORT HYPRETargets
   LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
   ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}"
-  RUNTIME DESTINATION "${CMAKE_INSTALL_LIBDIR}"
+  RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}"
   INCLUDES DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
 install(FILES ${HYPRE_HEADERS} DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}")
 
@@ -465,3 +469,10 @@ export(EXPORT HYPRETargets
   )
 
 export(PACKAGE ${PROJECT_NAME})
+
+SET(prefix ${CMAKE_INSTALL_PREFIX})
+SET(exec_prefix ${CMAKE_INSTALL_PREFIX})
+SET(libdir ${CMAKE_INSTALL_PREFIX}/lib)
+SET(includedir ${CMAKE_INSTALL_PREFIX}/include)
+CONFIGURE_FILE(${CMAKE_SOURCE_DIR}/hypre.pc.in ${CMAKE_BINARY_DIR}/hypre.pc @ONLY)
+INSTALL(FILES ${CMAKE_BINARY_DIR}/hypre.pc DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/pkgconfig)
--- origsrc/hypre-2.22.1/src/hypre.pc.in	1970-01-01 09:00:00.000000000 +0900
+++ src/hypre-2.22.1/src/hypre.pc.in	2021-08-29 14:13:36.776819000 +0900
@@ -0,0 +1,10 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+
+Name: hypre
+Description: Parallel solvers for sparse linear systems featuring multigrid methods
+Version: @HYPRE_VERSION@
+Libs: -L${libdir} -lHYPRE
+Cflags: -I${includedir}/hypre
