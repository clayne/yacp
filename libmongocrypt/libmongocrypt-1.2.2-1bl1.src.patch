--- origsrc/libmongocrypt-1.2.2/CMakeLists.txt	2021-09-08 06:52:23.000000000 +0900
+++ src/libmongocrypt-1.2.2/CMakeLists.txt	2021-09-20 19:36:10.873845900 +0900
@@ -104,7 +104,10 @@ if ( MSVC )
    # TODO: add support for clang-cl which is detected as MSVC
 else ()
    # GNU, Clang, AppleClang
-   set (CMAKE_C_FLAGS  "${CMAKE_C_FLAGS} -Wall -Werror -Wno-missing-braces")
+   set (CMAKE_C_FLAGS  "${CMAKE_C_FLAGS} -Wall -Wno-missing-braces")
+   if (NOT CYGWIN)
+      set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Werror")
+   endif()
 endif ()
 
 # Choose a Crypto provider
--- origsrc/libmongocrypt-1.2.2/kms-message/CMakeLists.txt	2021-09-08 06:52:23.000000000 +0900
+++ src/libmongocrypt-1.2.2/kms-message/CMakeLists.txt	2021-09-20 19:33:28.293330600 +0900
@@ -105,7 +105,10 @@ if (NOT DISABLE_NATIVE_CRYPTO)
 endif ()
 
 if ( CMAKE_COMPILER_IS_GNUCC )
-    set(CMAKE_C_FLAGS  "${CMAKE_C_FLAGS} -Wall -Wno-unused-function -Wsign-compare -Werror")
+    set(CMAKE_C_FLAGS  "${CMAKE_C_FLAGS} -Wall -Wno-unused-function -Wsign-compare")
+    if (NOT CYGWIN)
+      set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Werror")
+    endif()
 endif()
 if ( MSVC )
     # W4273 - inconsistent dll linkage
